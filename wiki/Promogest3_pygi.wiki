#summary Migrazione di Promogest a Python 3.

= Problemi/Soluzioni =
 # P: utilizzo di librerie di terze parti inserite in promogest (es. feedparser)
     S: rimuovere queste librerie dai sorgenti e installare tramite package manager / easy_install
 # P:  modulo *six* come nuova dipendenza per compatibilità tra Python 2/3
     S: installare il modulo tramite package manager / easy_install
 # P: ooolib-python è deprecato
     S: utilizzare [http://code.google.com/p/odslib-python/ odslib-python] (supporta python 2/3)
 # P: print diventa una funzione in python3
     S: utilizzare {{{ from __future__ import print_function }}} come primo import dove necessario
 # P: import dei moduli in python3
     S: utilizzare {{{ from __future__ import absolute_import }}} e revisionare tutti gli import

= Dettagli =

== Stato delle dipendenze  ==

compatibili con py3:
 * sqlalchemy
 * jinja2
 * Gtk, Gdk, Webkit, Poppler, ect via gi
 * reportlab

non compatibili:
 * [http://code.google.com/p/html5lib/ html5lib], (presenta alcuni bug, esistono patch per renderlo compatibile)
 * [https://github.com/chrisglass/xhtml2pdf pisa,xhtml2pdf] (~~una versione specifica verrà rilasciata appena python 3 sarà stabile

== Strumenti utili ==

Il pacchetto _python-tools_ contiene lo script *2to3* utilizzato per la traduzione automatica del codice dalla versione 2 alla 3.

Da terminale eseguire il comando:
{{{
$ cd promogest/core
$ 2to3 -n -w .
}}}

Glade e custom widget necessita di essere compilato con il supporto a python3. Vedi [https://bugzilla.gnome.org/show_bug.cgi?id=732328, bug 732328]

= Altre info =

Nota. Ctrl+c non funziona perchè ancora non implementato ma si può usare in alternativa ctrl+4 ."It is not trivial" come mi hanno detto su #python

= Links = 
[http://lucumr.pocoo.org/2011/1/22/forwards-compatible-python/ Writing Forwards Compatible Python Code]

[http://www.promogest.me Promogest]